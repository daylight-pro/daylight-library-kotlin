[languages.kt]
compile = "sudo apt update && sudo apt install -y curl unzip wget && cd {basedir}/{tempdir} && wget https://github.com/JetBrains/kotlin/releases/download/v2.1.0/kotlin-compiler-2.1.0.zip && mv kotlin-compiler-2.1.0.zip kotlin-compiler.zip && sudo unzip kotlin-compiler.zip -d /usr/local && curl https://download.java.net/java/GA/jdk23.0.1/c28985cbf10d4e648e4004050f8781aa/11/GPL/openjdk-23.0.1_linux-x64_bin.tar.gz | sudo tar zx -C /usr/local --strip-component 1 && cd {basedir}/src && cat << 'EOF' > Main.kt\n@OptIn(ExperimentalStdlibApi::class)\nfun main() {    %1.main()\n}\nEOF\n && cat Main.kt | sed 's|%1|'$(echo $(echo 'test/aoj/itp/P1_1_A.kt' | sed 's/\\//\\./g' | sed 's/.kt//g')) && /usr/local/kotlinc/bin/kotlinc daylight/*.kt acl/*.kt ./Main.kt -include-runtime -jvm-target 23 -d ./Main.jar"
execute = "cd src && java -jar Main.jar"
bundle = "false"
list_dependencies = "sed 's/^import \\(.*\\)$/\\1/ ; t ; d' {path} | sed 's/\\./\\//g' | sed 's/^\\(.*\\)$/\\src/1.kt/g'"
